# Новое поколение одностраничных приложений с Flux

## Константы

Тип экшена — его идентификатор и должен быть уникальным в системе. Все сторы, реагируя на один и тот же экшен, ожидают от него одну и ту же структуру. Это значит, что идентификации нужно уделить особое внимание.

Самый легкий вариант — использовать строковые имена. Стандартная практика для разных событийно-ориентированных архитектур.

   { type:  ‘что-то случилось’, data: … }

Предположим в вашем приложении уже несколько десятков типов экшенов. Можете ли вы быть на 100% уверены, что тип нигде не повторился? Или вы не опечатались при добавлении нового экшн криейтора или обработчика в сторе?

Магические значения в коде — всегда плохо.

Конечно, скорее всего константы не спасут вас от этих проблем, но часто могут предотвратить их появление.

Используя константы, вероятность ошибки в имени уменьшается. Как минимум потому, что во время откладки типом экшена окажется `undefined`.

Описывая константы в одном файле или разделяя на отдельные модули вы получаете базу для документации всех возможных пользовательских событий в приложении. Бесплатно, без смс.

Кроме того, сама по себе работа с константами мало чем отличается от работы со строками, поэтому вы в беспроигрышной ситуации.

	const SOMETHING_CHANGED = ‘SOMETHING_CHANGED’;

	{ type: SOMETHING_CHANGED, data: … }

### Константы и семантика

Все экшены показывают *что произошло* в системе. Значит имена должны быть в прошлом времени. Кроме того, это должны быть имена действий над доменными сущностями. Например, если вы хотите показать спиннер загрузки файла, то экшен старта загрузки должен быть не `SHOW_SPINNER`, а `UPLOAD_STARTED`. Таким образом, читая логи диспатчера, вы будете видеть что делал юзер, а не то как система на это реагировала.

И чтобы получить максимально консистентные имена, лучше всего использовать пассивную форму (чтобы не писать лишнее): вместо `USER_ADDED_TODO`, `USER_RENAMED_TODO` используйте `TODO_ADDED`, `TODO_RENAMED`.
